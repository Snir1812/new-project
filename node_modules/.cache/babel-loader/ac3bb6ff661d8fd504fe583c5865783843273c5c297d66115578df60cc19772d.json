{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: [],\n  showLoginForm: false,\n  showPasswordRecoveryForm: false,\n  showSignupForm: false\n};\nconst formSlice = createSlice({\n  name: \"form\",\n  initialState,\n  reducers: {\n    openLoginForm: state => {\n      state.showLoginForm = true;\n    },\n    closeLoginForm: state => {\n      state.showLoginForm = false;\n    },\n    openPasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = true;\n    },\n    closePasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = false;\n    },\n    openSignupForm: state => {\n      state.showSignupForm = true;\n    },\n    closeSignupForm: state => {\n      state.showSignupForm = false;\n    },\n    setItems: (state, action) => {\n      state.products = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    }\n  }\n});\nexport default formSlice.reducer;\nexport const {\n  openLoginForm,\n  closeLoginForm,\n  openPasswordRecoveryForm,\n  closePasswordRecoveryForm,\n  openSignupForm,\n  closeSignupForm,\n  setItems,\n  setIsLoading\n} = formSlice.actions;\n\n// Async thunk to fetch products\nexport const fetchProducts = () => {\n  return (dispatch, getState) => {\n    dispatch(setIsLoading(true));\n    fetch(\"https://localhost:7201/api/Products\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage(\"token\")\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }).then(data => {\n      dispatch(setItems(data));\n      console.log(data);\n    }).catch(error => {\n      console.error(error);\n    }).finally(() => {\n      dispatch(setIsLoading(false));\n    });\n  };\n};","map":{"version":3,"names":["createSlice","initialState","products","showLoginForm","showPasswordRecoveryForm","showSignupForm","formSlice","name","reducers","openLoginForm","state","closeLoginForm","openPasswordRecoveryForm","closePasswordRecoveryForm","openSignupForm","closeSignupForm","setItems","action","payload","setIsLoading","isLoading","reducer","actions","fetchProducts","dispatch","getState","fetch","method","headers","Authorization","localStorage","then","response","ok","Error","status","json","data","console","log","catch","error","finally"],"sources":["C:/Users/sales/OneDrive/שולחן העבודה/Snir Projects/New Project/new-project/src/features/form-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  showLoginForm: false,\r\n  showPasswordRecoveryForm: false,\r\n  showSignupForm: false,\r\n};\r\n\r\nconst formSlice = createSlice({\r\n  name: \"form\",\r\n  initialState,\r\n  reducers: {\r\n    openLoginForm: (state) => {\r\n      state.showLoginForm = true;\r\n    },\r\n    closeLoginForm: (state) => {\r\n      state.showLoginForm = false;\r\n    },\r\n    openPasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = true;\r\n    },\r\n    closePasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = false;\r\n    },\r\n    openSignupForm: (state) => {\r\n      state.showSignupForm = true;\r\n    },\r\n    closeSignupForm: (state) => {\r\n      state.showSignupForm = false;\r\n    },\r\n    setItems: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default formSlice.reducer;\r\nexport const {\r\n  openLoginForm,\r\n  closeLoginForm,\r\n  openPasswordRecoveryForm,\r\n  closePasswordRecoveryForm,\r\n  openSignupForm,\r\n  closeSignupForm,\r\n  setItems,\r\n  setIsLoading,\r\n} = formSlice.actions;\r\n\r\n// Async thunk to fetch products\r\nexport const fetchProducts = () => {\r\n  return (dispatch, getState) => {\r\n    dispatch(setIsLoading(true));\r\n\r\n    fetch(\"https://localhost:7201/api/Products\", {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage(\"token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        dispatch(setItems(data));\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      })\r\n      .finally(() => {\r\n        dispatch(setIsLoading(false));\r\n      });\r\n  };\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,EAAE;EACZC,aAAa,EAAE,KAAK;EACpBC,wBAAwB,EAAE,KAAK;EAC/BC,cAAc,EAAE;AAClB,CAAC;AAED,MAAMC,SAAS,GAAGN,WAAW,CAAC;EAC5BO,IAAI,EAAE,MAAM;EACZN,YAAY;EACZO,QAAQ,EAAE;IACRC,aAAa,EAAGC,KAAK,IAAK;MACxBA,KAAK,CAACP,aAAa,GAAG,IAAI;IAC5B,CAAC;IACDQ,cAAc,EAAGD,KAAK,IAAK;MACzBA,KAAK,CAACP,aAAa,GAAG,KAAK;IAC7B,CAAC;IACDS,wBAAwB,EAAGF,KAAK,IAAK;MACnCA,KAAK,CAACN,wBAAwB,GAAG,IAAI;IACvC,CAAC;IACDS,yBAAyB,EAAGH,KAAK,IAAK;MACpCA,KAAK,CAACN,wBAAwB,GAAG,KAAK;IACxC,CAAC;IACDU,cAAc,EAAGJ,KAAK,IAAK;MACzBA,KAAK,CAACL,cAAc,GAAG,IAAI;IAC7B,CAAC;IACDU,eAAe,EAAGL,KAAK,IAAK;MAC1BA,KAAK,CAACL,cAAc,GAAG,KAAK;IAC9B,CAAC;IACDW,QAAQ,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MAC3BP,KAAK,CAACR,QAAQ,GAAGe,MAAM,CAACC,OAAO;IACjC,CAAC;IACDC,YAAY,EAAE,CAACT,KAAK,EAAEO,MAAM,KAAK;MAC/BP,KAAK,CAACU,SAAS,GAAGH,MAAM,CAACC,OAAO;IAClC;EACF;AACF,CAAC,CAAC;AAEF,eAAeZ,SAAS,CAACe,OAAO;AAChC,OAAO,MAAM;EACXZ,aAAa;EACbE,cAAc;EACdC,wBAAwB;EACxBC,yBAAyB;EACzBC,cAAc;EACdC,eAAe;EACfC,QAAQ;EACRG;AACF,CAAC,GAAGb,SAAS,CAACgB,OAAO;;AAErB;AACA,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,OAAO,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IAC7BD,QAAQ,CAACL,YAAY,CAAC,IAAI,CAAC,CAAC;IAE5BO,KAAK,CAAC,qCAAqC,EAAE;MAC3CC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAS,GAAGC,YAAY,CAAC,OAAO;MACjD;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAClC;MACA,OAAOH,QAAQ,CAACI,IAAI,EAAE;IACxB,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,IAAK;MACdb,QAAQ,CAACR,QAAQ,CAACqB,IAAI,CAAC,CAAC;MACxBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC,CACDC,OAAO,CAAC,MAAM;MACblB,QAAQ,CAACL,YAAY,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}