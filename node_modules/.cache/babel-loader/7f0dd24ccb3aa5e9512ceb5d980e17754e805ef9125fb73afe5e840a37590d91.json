{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: [],\n  showLoginForm: false,\n  showPasswordRecoveryForm: false,\n  showSignupForm: false\n};\nexport const fetchProducts = () => {\n  return (dispatch, getState) => {\n    dispatch(setIsLoading(true));\n    fetch(\"https://localhost:7201/api/Products\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }).then(data => {\n      dispatch(setItems(data));\n      console.log(data);\n    }).catch(error => {\n      console.error(error);\n    }).finally(() => {\n      dispatch(setIsLoading(false));\n    });\n  };\n};\nconst formSlice = createSlice({\n  name: \"form\",\n  initialState,\n  reducers: {\n    openLoginForm: state => {\n      state.showLoginForm = true;\n    },\n    closeLoginForm: state => {\n      state.showLoginForm = false;\n    },\n    openPasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = true;\n    },\n    closePasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = false;\n    },\n    openSignupForm: state => {\n      state.showSignupForm = true;\n    },\n    closeSignupForm: state => {\n      state.showSignupForm = false;\n    },\n    setItems: (state, action) => {\n      state.products = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    }\n  }\n});\nexport default formSlice.reducer;\nexport const {\n  openLoginForm,\n  closeLoginForm,\n  openPasswordRecoveryForm,\n  closePasswordRecoveryForm,\n  openSignupForm,\n  closeSignupForm,\n  setItems,\n  setIsLoading\n} = formSlice.actions;","map":{"version":3,"names":["createSlice","initialState","products","showLoginForm","showPasswordRecoveryForm","showSignupForm","fetchProducts","dispatch","getState","setIsLoading","fetch","method","headers","Authorization","localStorage","getItem","then","response","ok","Error","status","json","data","setItems","console","log","catch","error","finally","formSlice","name","reducers","openLoginForm","state","closeLoginForm","openPasswordRecoveryForm","closePasswordRecoveryForm","openSignupForm","closeSignupForm","action","payload","isLoading","reducer","actions"],"sources":["C:/Users/sales/OneDrive/שולחן העבודה/Snir Projects/New Project/new-project/src/features/form-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  showLoginForm: false,\r\n  showPasswordRecoveryForm: false,\r\n  showSignupForm: false,\r\n};\r\n\r\nexport const fetchProducts = () => {\r\n  return (dispatch, getState) => {\r\n    dispatch(setIsLoading(true));\r\n\r\n    fetch(\"https://localhost:7201/api/Products\", {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        dispatch(setItems(data));\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      })\r\n      .finally(() => {\r\n        dispatch(setIsLoading(false));\r\n      });\r\n  };\r\n};\r\n\r\nconst formSlice = createSlice({\r\n  name: \"form\",\r\n  initialState,\r\n  reducers: {\r\n    openLoginForm: (state) => {\r\n      state.showLoginForm = true;\r\n    },\r\n    closeLoginForm: (state) => {\r\n      state.showLoginForm = false;\r\n    },\r\n    openPasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = true;\r\n    },\r\n    closePasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = false;\r\n    },\r\n    openSignupForm: (state) => {\r\n      state.showSignupForm = true;\r\n    },\r\n    closeSignupForm: (state) => {\r\n      state.showSignupForm = false;\r\n    },\r\n    setItems: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default formSlice.reducer;\r\nexport const {\r\n  openLoginForm,\r\n  closeLoginForm,\r\n  openPasswordRecoveryForm,\r\n  closePasswordRecoveryForm,\r\n  openSignupForm,\r\n  closeSignupForm,\r\n  setItems,\r\n  setIsLoading,\r\n} = formSlice.actions;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,QAAQ,EAAE,EAAE;EACZC,aAAa,EAAE,KAAK;EACpBC,wBAAwB,EAAE,KAAK;EAC/BC,cAAc,EAAE;AAClB,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAM;EACjC,OAAO,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IAC7BD,QAAQ,CAACE,YAAY,CAAC,IAAI,CAAC,CAAC;IAE5BC,KAAK,CAAC,qCAAqC,EAAE;MAC3CC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO;MACzD;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC;MAClC;MACA,OAAOH,QAAQ,CAACI,IAAI,EAAE;IACxB,CAAC,CAAC,CACDL,IAAI,CAAEM,IAAI,IAAK;MACdf,QAAQ,CAACgB,QAAQ,CAACD,IAAI,CAAC,CAAC;MACxBE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACnB,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,IAAK;MAChBH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC,CACDC,OAAO,CAAC,MAAM;MACbrB,QAAQ,CAACE,YAAY,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC,CAAC;EACN,CAAC;AACH,CAAC;AAED,MAAMoB,SAAS,GAAG7B,WAAW,CAAC;EAC5B8B,IAAI,EAAE,MAAM;EACZ7B,YAAY;EACZ8B,QAAQ,EAAE;IACRC,aAAa,EAAGC,KAAK,IAAK;MACxBA,KAAK,CAAC9B,aAAa,GAAG,IAAI;IAC5B,CAAC;IACD+B,cAAc,EAAGD,KAAK,IAAK;MACzBA,KAAK,CAAC9B,aAAa,GAAG,KAAK;IAC7B,CAAC;IACDgC,wBAAwB,EAAGF,KAAK,IAAK;MACnCA,KAAK,CAAC7B,wBAAwB,GAAG,IAAI;IACvC,CAAC;IACDgC,yBAAyB,EAAGH,KAAK,IAAK;MACpCA,KAAK,CAAC7B,wBAAwB,GAAG,KAAK;IACxC,CAAC;IACDiC,cAAc,EAAGJ,KAAK,IAAK;MACzBA,KAAK,CAAC5B,cAAc,GAAG,IAAI;IAC7B,CAAC;IACDiC,eAAe,EAAGL,KAAK,IAAK;MAC1BA,KAAK,CAAC5B,cAAc,GAAG,KAAK;IAC9B,CAAC;IACDkB,QAAQ,EAAE,CAACU,KAAK,EAAEM,MAAM,KAAK;MAC3BN,KAAK,CAAC/B,QAAQ,GAAGqC,MAAM,CAACC,OAAO;IACjC,CAAC;IACD/B,YAAY,EAAE,CAACwB,KAAK,EAAEM,MAAM,KAAK;MAC/BN,KAAK,CAACQ,SAAS,GAAGF,MAAM,CAACC,OAAO;IAClC;EACF;AACF,CAAC,CAAC;AAEF,eAAeX,SAAS,CAACa,OAAO;AAChC,OAAO,MAAM;EACXV,aAAa;EACbE,cAAc;EACdC,wBAAwB;EACxBC,yBAAyB;EACzBC,cAAc;EACdC,eAAe;EACff,QAAQ;EACRd;AACF,CAAC,GAAGoB,SAAS,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}