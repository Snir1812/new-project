{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  products: [],\n  token: null,\n  isLoading: false,\n  isError: false,\n  showLoginForm: false,\n  showPasswordRecoveryForm: false,\n  showSignupForm: false,\n  showProductForm: false,\n  productToEdit: null\n};\nexport const fetchProducts = () => {\n  return (dispatch, getState) => {\n    dispatch(setIsLoading(true));\n    fetch(\"https://localhost:7201/api/Products\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }).then(data => {\n      dispatch(setItems(data));\n      // console.log(data);\n    }).catch(error => {\n      console.error(error);\n      dispatch(setIsError(true));\n    }).finally(() => {\n      dispatch(setIsLoading(false));\n    });\n  };\n};\nconst slice = createSlice({\n  name: \"slice\",\n  initialState,\n  reducers: {\n    setItems: (state, action) => {\n      state.products = action.payload;\n    },\n    setToken: (state, action) => {\n      state.token = action.payload;\n    },\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload;\n    },\n    setIsError: (state, action) => {\n      state.isError = action.payload;\n    },\n    openLoginForm: state => {\n      state.showLoginForm = true;\n    },\n    closeLoginForm: state => {\n      state.showLoginForm = false;\n    },\n    openPasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = true;\n    },\n    closePasswordRecoveryForm: state => {\n      state.showPasswordRecoveryForm = false;\n    },\n    openSignupForm: state => {\n      state.showSignupForm = true;\n    },\n    closeSignupForm: state => {\n      state.showSignupForm = false;\n    },\n    updateItem: (state, action) => {\n      const index = state.products.indexOf(state.productToEdit);\n      if (index >= 0) {\n        state.products[index] = action.payload;\n      }\n    },\n    addItem: (state, action) => {\n      state.products = [...state.products, action.payload];\n    },\n    setProductForm: (state, action) => {\n      state.productToEdit = null;\n      state.showProductForm = action.payload;\n    },\n    toggleProductForm: state => {\n      // return {\n      //   ...state,\n      //   productToEdit: null,\n      //   showProductForm: !state.showProductForm,\n      // };\n      state.productToEdit = null;\n      state.showProductForm = !state.showProductForm;\n    },\n    setProductToEdit: (state, action) => {\n      state.productToEdit = action.payload;\n      state.showProductForm = true;\n    },\n    removeItem: (state, action) => {\n      const index = state.products.indexOf(action.payload);\n      if (index >= 0) {\n        state.products.splice(index, 1);\n      }\n    }\n  }\n});\nexport default slice.reducer;\nexport const {\n  openLoginForm,\n  closeLoginForm,\n  openPasswordRecoveryForm,\n  closePasswordRecoveryForm,\n  openSignupForm,\n  closeSignupForm,\n  setItems,\n  setIsLoading,\n  setIsError,\n  updateItem,\n  addItem,\n  setProductForm,\n  toggleProductForm,\n  setProductToEdit,\n  showProductForm,\n  productToEdit,\n  removeItem,\n  setToken\n} = slice.actions;","map":{"version":3,"names":["createSlice","initialState","products","token","isLoading","isError","showLoginForm","showPasswordRecoveryForm","showSignupForm","showProductForm","productToEdit","fetchProducts","dispatch","getState","setIsLoading","fetch","method","headers","Authorization","localStorage","getItem","then","response","ok","Error","status","json","data","setItems","catch","error","console","setIsError","finally","slice","name","reducers","state","action","payload","setToken","openLoginForm","closeLoginForm","openPasswordRecoveryForm","closePasswordRecoveryForm","openSignupForm","closeSignupForm","updateItem","index","indexOf","addItem","setProductForm","toggleProductForm","setProductToEdit","removeItem","splice","reducer","actions"],"sources":["C:/Users/sales/OneDrive/שולחן העבודה/Snir Projects/New Project/new-project/src/features/form-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  token: null,\r\n  isLoading: false,\r\n  isError: false,\r\n  showLoginForm: false,\r\n  showPasswordRecoveryForm: false,\r\n  showSignupForm: false,\r\n  showProductForm: false,\r\n  productToEdit: null,\r\n};\r\n\r\nexport const fetchProducts = () => {\r\n  return (dispatch, getState) => {\r\n    dispatch(setIsLoading(true));\r\n\r\n    fetch(\"https://localhost:7201/api/Products\", {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error(response.status);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        dispatch(setItems(data));\r\n        // console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        dispatch(setIsError(true));\r\n      })\r\n      .finally(() => {\r\n        dispatch(setIsLoading(false));\r\n      });\r\n  };\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"slice\",\r\n  initialState,\r\n  reducers: {\r\n    setItems: (state, action) => {\r\n      state.products = action.payload;\r\n    },\r\n    setToken: (state, action) => {\r\n      state.token = action.payload;\r\n    },\r\n    setIsLoading: (state, action) => {\r\n      state.isLoading = action.payload;\r\n    },\r\n    setIsError: (state, action) => {\r\n      state.isError = action.payload;\r\n    },\r\n    openLoginForm: (state) => {\r\n      state.showLoginForm = true;\r\n    },\r\n    closeLoginForm: (state) => {\r\n      state.showLoginForm = false;\r\n    },\r\n    openPasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = true;\r\n    },\r\n    closePasswordRecoveryForm: (state) => {\r\n      state.showPasswordRecoveryForm = false;\r\n    },\r\n    openSignupForm: (state) => {\r\n      state.showSignupForm = true;\r\n    },\r\n    closeSignupForm: (state) => {\r\n      state.showSignupForm = false;\r\n    },\r\n    updateItem: (state, action) => {\r\n      const index = state.products.indexOf(state.productToEdit);\r\n      if (index >= 0) {\r\n        state.products[index] = action.payload;\r\n      }\r\n    },\r\n    addItem: (state, action) => {\r\n      state.products = [...state.products, action.payload];\r\n    },\r\n    setProductForm: (state, action) => {\r\n      state.productToEdit = null;\r\n      state.showProductForm = action.payload;\r\n    },\r\n    toggleProductForm: (state) => {\r\n      // return {\r\n      //   ...state,\r\n      //   productToEdit: null,\r\n      //   showProductForm: !state.showProductForm,\r\n      // };\r\n      state.productToEdit = null;\r\n      state.showProductForm = !state.showProductForm;\r\n    },\r\n    setProductToEdit: (state, action) => {\r\n      state.productToEdit = action.payload;\r\n      state.showProductForm = true;\r\n    },\r\n    removeItem: (state, action) => {\r\n      const index = state.products.indexOf(action.payload);\r\n      if (index >= 0) {\r\n        state.products.splice(index, 1);\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\nexport const {\r\n  openLoginForm,\r\n  closeLoginForm,\r\n  openPasswordRecoveryForm,\r\n  closePasswordRecoveryForm,\r\n  openSignupForm,\r\n  closeSignupForm,\r\n  setItems,\r\n  setIsLoading,\r\n  setIsError,\r\n  updateItem,\r\n  addItem,\r\n  setProductForm,\r\n  toggleProductForm,\r\n  setProductToEdit,\r\n  showProductForm,\r\n  productToEdit,\r\n  removeItem,\r\n  setToken,\r\n} = slice.actions;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}